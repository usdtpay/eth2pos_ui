/*! layer mobile-v2.0 弹层组件移动版 License LGPL http://layer.layui.com/mobile By 贤心 */
!(function (a) {
  const b = document; const c = 'querySelectorAll'; const d = 'getElementsByClassName'; const e = function (a) { return b[c](a); }; const f = {
    type: 0, shade: !0, shadeClose: !0, fixed: !0, anim: 'scale',
  }; const g = { extend(a) { const b = JSON.parse(JSON.stringify(f)); for (const c in a)b[c] = a[c]; return b; }, timer: {}, end: {} }; g.touch = function (a, b) { a.addEventListener('click', function (a) { b.call(this, a); }, !1); }; let h = 0; const i = ['layui-m-layer']; const j = function (a) { const b = this; b.config = g.extend(a), b.view(); }; j.prototype.view = function () { const a = this; const c = a.config; const f = b.createElement('div'); a.id = f.id = i[0] + h, f.setAttribute('class', `${i[0]} ${i[0]}${c.type || 0}`), f.setAttribute('index', h); const g = (function () { const a = typeof c.title === 'object'; return c.title ? `<h3 style="${a ? c.title[1] : ''}">${a ? c.title[0] : c.title}</h3>` : ''; }()); const j = (function () { typeof c.btn === 'string' && (c.btn = [c.btn]); let a; const b = (c.btn || []).length; return b !== 0 && c.btn ? (a = `<span yes type="1">${c.btn[0]}</span>`, b === 2 && (a = `<span no type="0">${c.btn[1]}</span>${a}`), `<div class="layui-m-layerbtn">${a}</div>`) : ''; }()); if (c.fixed || (c.top = c.hasOwnProperty('top') ? c.top : 100, c.style = c.style || '', c.style += ` top:${b.body.scrollTop + c.top}px`), c.type === 2 && (c.content = `<i></i><i class="layui-m-layerload"></i><i></i><p>${c.content || ''}</p>`), c.skin && (c.anim = 'up'), c.skin === 'msg' && (c.shade = !1), f.innerHTML = `${c.shade ? `<div ${typeof c.shade === 'string' ? `style="${c.shade}"` : ''} class="layui-m-layershade"></div>` : ''}<div class="layui-m-layermain" ${c.fixed ? '' : 'style="position:static;"'}><div class="layui-m-layersection"><div class="layui-m-layerchild ${c.skin ? `layui-m-layer-${c.skin} ` : ''}${c.className ? c.className : ''} ${c.anim ? `layui-m-anim-${c.anim}` : ''}" ${c.style ? `style="${c.style}"` : ''}>${g}<div class="layui-m-layercont">${c.content}</div>${j}</div></div></div>`, !c.type || c.type === 2) { const k = b[d](i[0] + c.type); const l = k.length; l >= 1 && layer.close(k[0].getAttribute('index')); }document.body.appendChild(f); const m = a.elem = e(`#${a.id}`)[0]; c.success && c.success(m), a.index = h++, a.action(c, m); }, j.prototype.action = function (a, b) { const c = this; a.time && (g.timer[c.index] = setTimeout(() => { layer.close(c.index); }, 1e3 * a.time)); const e = function () { const b = this.getAttribute('type'); b == 0 ? (a.no && a.no(), layer.close(c.index)) : a.yes ? a.yes(c.index) : layer.close(c.index); }; if (a.btn) for (let f = b[d]('layui-m-layerbtn')[0].children, h = f.length, i = 0; h > i; i++)g.touch(f[i], e); if (a.shade && a.shadeClose) { const j = b[d]('layui-m-layershade')[0]; g.touch(j, () => { layer.close(c.index, a.end); }); }a.end && (g.end[c.index] = a.end); }, a.layer = {
    v: '2.0', index: h, open(a) { const b = new j(a || {}); return b.index; }, close(a) { const c = e(`#${i[0]}${a}`)[0]; c && (c.innerHTML = '', b.body.removeChild(c), clearTimeout(g.timer[a]), delete g.timer[a], typeof g.end[a] === 'function' && g.end[a](), delete g.end[a]); }, closeAll() { for (let a = b[d](i[0]), c = 0, e = a.length; e > c; c++)layer.close(0 | a[0].getAttribute('index')); },
  }, typeof define === 'function' ? define(() => layer) : (function () { const a = document.scripts; const c = a[a.length - 1]; const d = c.src; const e = d.substring(0, d.lastIndexOf('/') + 1); c.getAttribute('merge') || document.head.appendChild(function () { const a = b.createElement('link'); return a.href = `${e}need/layer.css?2.0`, a.type = 'text/css', a.rel = 'styleSheet', a.id = 'layermcss', a; }()); }());
}(window));
